# JBNU 2025-1 Mobile Programming
Mobile Prgramming with Kotlin(Android Studio), Python 3

이 리포지토리는 전북대학교 2025학년도 1학기 모바일프로그래밍 프로젝트 진행상황을 기록한 리포지토리입니다.

---
### 2025-03-18
#### 진행 상황
##### AI 찍먹 시작
 - AI 공부를 처음으로 시작함.
 - 앞으로 나아가기 위해 CUDA와 PyTorch를 설치하였고, 환경 세팅 후 정상적으로 작동함을 확인함.
---

### 2025-03-20
#### 진행 상황
##### 영수증 인식 AI 모델링 시작
 - Tesseract, EasyOCR을 사용하여 이미지에서 글자를 추출해보았음.
 - 추출 인식률이 많아 낮아 개선이 필요해보임. AI 학습에 관한 공부를 하였음.

---
### 2025-03-27
#### 진행 상황
##### 방향 수정
 - 본래 EasyOCR을 활용한 방법을 시도하였으나, PaddleOCR이 조금 더 적절하다고 판단하여 방향을 수정함.
 - PaddleOCR 설치 및 테스트 진행 완료

---
### 2025-04-01
#### 진행 상황
##### 재설치
 - 여러 이유로 인해 환경 재설정 수행중
 - 현재 python 최신버전 제거, 3.9버전으로 재설치.
 - python, Pytorch, PaddleOCR, CUDA 전부 설치 및 정상작동 확인 완료.

---
### 2025-04-04
#### 진행 상황
 - PaddleOCR을 통해 영수증 사진 분석
 - Confidence 0.5~1.0사이 분포가 크고, 인식률은 높다고 판단되지만 막상 인식을 그렇게 잘 하지는 못 함.
 - 최초 영수증 사진의 분석 결과를 시각화/텍스트화.
 - 이후 크롤링을 통해 영수증 사진을 다양하게 수집할 예정. 당장은 지금까지 수집한 영수증 사진을 이용중.
 - 직접 찍은 영수증을 인식시켜보니, 생각보다 상태가 괜찮음.
 - YOLO를 이용하여 상품명이 포함된 영역을 탐지하고, PaddleOCR로 텍스트 인식 후, 상품명 여부 판별을 학습시킬 예정.
 - 핵심은, 나는 PaddleOCR을 학습시키는 것이 아닌, 객체를 탐지하는 YOLO를 학습시키는 것이다.
 - 어차피 PaddleOCR은 이미 인식 정확도 자체는 충분히 높은 편이기에, 인식을 잘 할 수 있도록 선 분류를 해주는 것에 집중.
 - YOLO와 PaddleOCR 사이 import 순서에 따라 shm.dll 의존성 문제가 생길 수 있다. 매우 황당한 문제로 3시간 이상 태움.
 - 본격적인 프로젝트 진행을 위해 디렉토리 정리 및 캡슐화 이후 진행.
#### 노트
 - 사진에 파란색 네모가 그려지면서 인식된 결과가 나오는 모습을 보니 신기하다.
 - YOLO는 무조건 PaddleOCR보다 먼저 import할 것!!!! (살다살다 이딴 황당한 경험을 다 하네.)
#### 이후 진행 순서
 - YOLO 학습 (영수증 데이터를 쌓고 라벨링 / 학습)
 - 제대로 추출하는데 이상이 없으면 Android Studio를 통한 애플리케이션 개발 시작

---
### 2025-04-05
#### 진행 상황
 - 특정 키워드 검색을 통해 Google Images에서 이미지 크롤링 후 저장
 - Google Images가 한글 이미지 검색에 대해 성능이 좋지 않다고 판단하여 Naver 이미지 검색으로 바꿔보고자 함.
 - URL 인코딩-파싱 등으로 네이버 이미지 크롤링도 시도해 보았으나 썸네일만 저장되는 등 문제가 지속됨.
 - 기존에 사용해봤던 방법이 아닌 새로운 방법 시도를 해보았으나, 결국 셀레니움 라이브러리를 통한 크롤링으로 방향 수정.
 - Naver는 여러 제약사항이 있어서 키워드 당 maximum 250장의 이미지를 모을 수 있었음.
 - Google이 문제인데, 여러 가지 테스트 결과 Google은 Selenium을 통한 이미지 크롤링을 현 시점 기준으로 완전히 막았다고 판단됨.
 - Google 크롤링을 포기하고 bing 크롤링으로 옮기기로 함. 작동은 잘 되는데 이미지가 너무 작게 나와서 개선 필요.
 - 일단 오늘의 목표는 RAW 데이터를 최대한 많이 수집해보기로 결정.
#### 노트
 - 크롤링이 왠지 잘 안된다. 영수증을 긁어모았더니 웬 새가 나온다. ㅋㅋ;
#### 이후 진행 순서
 - 저장한 이미지를 OCR 가능한지에 대한 여부로 1차 필터링

---
### 2025-04-13
#### 진행 상황
 - 다른 일들이 바빠서 신경을 못 쓰다가 일주일만에 재개.
 - AI Backend / Android Frontend로 구분하여 디렉토리 정리, 작업 준비.
#### 노트
 - 
#### 이후 진행 순서
 - 사용 전, 앱에는 기본적인 사용자의 설정이 필요함
   * 사용자에게 소비기한을 선택적으로 입력하게 할지 (선택적으로 입력하지 않는다면, 자동으로 앱에서 검색/계산하기만 함. 선택적으로 입력한다면, 사용자가 원하는 경우 표기된 제조일자/유통기한/소비기한을 작성하면 그것을 기반으로 앱이 작동하고, 만일 잘 모르거나 미표기인 경우 모르겠다고 알려주면 입력하지 않은 경우와 같이 자동으로 앱에서 검색/계산함.)
   * 소비기한/유통기한을 엄격하게 지킬지, "먹어도 안전한 기간"을 더해서 지킬지 여부 체크
 - 사용자가 앱에서 사진을 찍어 앱에 업로드함
 - 앱은 사진을 분석해서 음식을 뽑아냄.
 - 사용자에게 피드백 화면을 보여줌.
 - 피드백 화면에서 사용자가 수행할 작업
   * 인식한 음식이 맞는지
   * 음식별로 표기된 유통기한 입력 (선택적)
 - 위 단계를 통해 음식을 데이터베이스에 저장함.
 - 예상 소비기한 도래 "일주일", "3일", "당일" 사용자에게 푸시 알림을 통해 알려줌.
 - 어느정도의 최적화를 위해, 만일 같은 카테고리의 음식 중 사전에 소비기한에 대해 찾아본 데이터가 남아있다면 검색이 필요할 때 굳이 검색하지 않고 해당 데이터를 기반으로 계산한다.