# JBNU 2025-1 Mobile Programming
Mobile Prgramming with Kotlin(Android Studio), Python 3

이 리포지토리는 전북대학교 2025학년도 1학기 모바일프로그래밍 프로젝트 진행상황을 기록한 리포지토리입니다.
---
## 프로젝트 요약
> ### 프로젝트명: BIS 기반 도착예측 및 대중교통 길찾기 개선 앱
> #### 프로젝트 목표
>   > 1. 대한민국 버스 시스템 한계로 인한 버스의 정시성 부족 문제를 간접적으로 해결
>   > 2. 기존 네이버/카카오지도 앱보다 더 정확한 대중교통 길찾기 AI와 유저 맞춤형 예측을 제공
>   > 3. 딥러닝 모델 기반의 도착 시간 예측 + 실시간 알림 + 사용자 피드백 반영

> ### 전체 시스템 구조
> #### 데이터 수집
>   > 1. 전주시 BIS API 활용: 정류장/노선 정보, 실시간 운행정보, 배차간격 등 조사
>   > 2. 날씨 API: 시간/위치 기반 날씨 정보 수집 (전주시의 경우 덕진구/완산구 둘로만 나눌 예정)
>   > 3. 교통 흐름 데이터: 구글/네이버 교통지도 API 또는 교통 흐름은 미반영 (시간대로도 충분할 수 있음.)
>   > PostgreSQL을 활용하여 데이터베이스를 구성하고, 위에서 모은 데이터를 기반으로 전처리 - 학습 예정.
> #### 데이터 전처리 및 통합
>   > 정류장 ID, 노선 번호, 요일(평일/주말/공휴일), 버스 배차시간, 실제 정류장 도착 시간, 날씨, 교통혼잡도 등을 정규화하여 테이블 생성
> #### 모델 설계 및 학습
>   > AI모델 예측 목표 : 정류장 A에, W요일 X시 Y분 Z날씨일 때 출발한 B번 버스가 실제로 언제 도착하는가?
>   > 사용이 예상되는 AI 기술
>   > 1. 데이터 기반 1차 추론: 회귀 기반 MLP, XGBoost
>   > 2. 보정 방식: 단순 선형 보간, LSTM 기반 시계열 지연 패턴 학습
>   > 3. 2차 추론: 실시간 피드백 기반 재보정 알고리즘
>   > 4. Pytorch기반 Continual Learning (ex. Experience Replay)
>   > 5. 보조 분석: k-NN 기반 유사 노선/날씨 탐색 후 평균 지연값 활용 가능
> #### 백엔드 (서버/AI)
>   > 1. Python + Flask
>   > 2. 모델 서버와의 통신
>   > 3. DB 연동 (PostgreSQL)
>   > 4. 알림 시스템 처리
> #### 프론트엔드 (Android/iOS(차후))
>   > 1. 출발/도착 정류장 입력 (또는 출발/도착지 입력으로 도보까지 계산)
>   > 2. 예상 도착시간 출력
>   > 3. (선택) 사용자 피드백 입력: 실제로 버스가 언제 도착했는지
>   > 4. 알림 기능 포함 (슬슬 지금쯤 나가야 한다.)

> ### 세부 기능 계획
> 1. 실시간 위치 확인: GPS와 API를 통한 실시간 위치 받아오기 - requests, BIS API
> 2. 도착 예측: DB 기반 도착시간을 예측 - PyTorch, 회귀모델
> 3. 사용자 피드백 수집: 실제 도착시간 입력 - PostgreSQL (DB에 insert하는 방식...)
> 4. 사용자 알림: 출발해야 하는 시간 알림 등
> 5. 대체경로 추천: 지연 시 다른 노선 제안 - 강화학습 / 데이크스트라

#### 노트
> 1. 고령자/시각장애인 배려로 음성-진동 기반 알링 기능을 넣어도 될듯?
> 2. 실제 도착시간을 입력하는 시스템을 "실시간 BIS로 정보를 수신하다가 버스가 목표 정류장에 도착했다고 판단되는 시간에 알림으로 보냄"

---
## 프로젝트 진행 상황
---
### 2025-04-15
#### 진행 상황 (프로젝트 리셋)
 - BIS 개선 프로젝트
 - 개선된 대중교통 길찾기 어플리케이션
#### 노트
 - 기획 점검
---
### 2025-04-16
#### 진행 상황
 - 작업용 PC와 학습용 서버를 구분하여 시스템을 구축함.
 - 개인 서버를 처음으로 만들어서 직접 headless로 구동, ssh로 접근하여 작업해봄. 신기한 경험.
#### 노트
---
### 2025-04-19
#### 진행 상황
 - 전주시 BIS API 신청 후 Service Key 수령.
 - 테스트해보았으나 관리를 안 하는지 XML 404, 001 응답 없음 (...?)
 - 전주시 BIS 홈피로 들어와서 비공식 API를 뜯어보기로 결정.
 - API 분석으로 데이터 받아보기 성공.
 - 비공식 API를 하나하나 뜯어보며 분석, 전체 노선 정보와 각 노선별 전체 정류장 정보 얻어옴.
 - 해당 정보를 기반으로 정적 데이터 정제 시작.
 - 새로운 프로젝트 디렉토리 구조 정립.
 - 버스 노선 리스트 추출
 - 노선별 부노선 리스트 추출
 - 각 노선별 정차 정류장 리스트 추출
 - 버스가 진행하는 노선별 도로상 특정 지점의 위치를 추출. (이걸로 교통흐름도 추적해서 변수로 넣을 수 있을듯?)
 
#### 노트
 - 비공식 API이기 때문에 우선 개인적으로 개발 이후, 배포 전 전주시에 문의를 해보도록 하자.